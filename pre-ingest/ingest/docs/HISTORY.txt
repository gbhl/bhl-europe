
********************
***  HISTORY.TXT ***
********************
* TOP-DOWN => NEW-OLD





DATABASE UPDATE (CONTENT - TYPE ENUM)

MEDIA TYPE EDITABLE IN CONTENT MANAGER (SERIALS FORCE)

PAGE FILE ANALYZE (PREFIX-SEQ-TYPE-PAGENUMBERS 1-N) NOW WITH PDF SUPPORT

PAGE NUMBER FIX DERIVED FROM FILENAME IF POSSIBLE OTHERWISE RECONSTRUCTED BY
FILE SORTING INDEX

PAGETYPE NOW DYNAMIC, DERIVED FROM FILENAME PARTS

ADDED PAGETYPE TO OLEF PAGE OBJECTS AS DESIRED

OLEF TESTS 

FIX: OLEF MISMATCH AND TERMINATION WHILE ADDING TO METS FIXED

FIX: CENTRAL AND INITIAL MEDIA PAGE NUMBER AQUISITION OPTIMIZED 

BASIC SUPPORT FOR SERIALS AND THEIR REALTIONSHIPS

PARTIAL DATABASE REBUILD FOR CHANGES BELOW IN PRODUCTION, PRESERVING MANAGED CONTENT

GUI HEADERS CHANGED TO UTF-8 

ALL DATABASE TABLES CHANGED TO UTF-8 (utf8_general_ci)

FIX: SOFT REFRESH WITHOUT CONFIRM FOR RELOAD PAGE (E.G. FIREFOX)

ENHANCEMENTS IN FILE TREES

MANAGED CONTENT DATES DISPLAY OPTIMIZED

BUFIX: CONTENT CREATE TIME DETECTION ON SERVER FIXED 

CONTEXT TOOLTIPS ESTABLISHED 

REMOVED EXPLICIT LZW COMPRESSION OF TIFF DUE DRAMATIC FILESIZE INCREASE IN TESTS
BECAUSE IT REPLACES ORIGINAL (MUCH HIGHER) JPEG COMPRESSION, WHEN CONVERTING JPEG
SOURCES.

AUTOMATIC REFRESH OF INGEST LIST MAIN VIEW (_GUI_REFRESH in ms - config.php) 
WITH REALTIME DISPLAY OF REFRESH INFORMATION

BETTER QUEUE CLEANUP

CORRECTED IMAGES (TITLES) FOR PDF2TXT 

STARTED CHM HELP & DOCUMENTATION (docs/help.chm/)

VARIOUS NEW CONFIG VARIABLES FOR BETTER TRANSPARENCY

FIXED QUEUE LOGGING

ADD TO QUEUE NOW CHECKS IN REALTIME WHAT IS CURRENTLY GATHERED BY THE QUEUE
PARALLEL SCRIPT AND THEREFORE ONLY ALLOWS COMMANDS TO BE QUEUED WHICH ARE
NOT QUEUED CURRENTLY AND ARE NOT EXECUTED CURRENTLY!

TIF CONVERT: added -compress lzw (config.php)

SUPPORT FOR SOME NEW DEFINED METS TAGS AND ATTRIBUTES (LABEL, P.NO., TITLE ...)

NEW PAGE FILE NOTATION AWARE SORTING ALGORITHM

TAXON REVERSE LOOKUP FILE URL ENCODING REMOVED (WE CAN NOT SUPPORT 
FILENAMES WITH BLANKS - FSG).

OCR FILE EMBEDDING IN PAGE METS REWORKED.

GUID ENCODING CHANGED BACK TO RAW GUID REPLACING / WITH -

TAXON REVERSE LOOKUP FILE URL ENCODING ADDED

LOGO POSITION MISMATCH FIXED.

NAMESPACE ATTRIBUTE FOR DWC ADDED (http://rs.tdwg.org/dwc/terms/)
AND NAMESPACE FOR ACCCESSCONDITION (MODS) FIXED.


OLEF FINISHING IS NOW RE-INVOKEABLE THROUGH AUTOMATIC DETECTION OF
EXISTING GENERATED PARTS WHICH WILL BE REPLACED IF RE-INVOKED BY STEPS.


COMPLETE REWORK OF PAGE AND TAXON ELEMENTS ADDED TO OLEF.
AFFECTS ALL NODES IN ITEMINFORMATION CONTAINER.

...
&lt;itemInformation&gt
    &lt;files&gt
        &lt;file&gt
            &lt;reference type="path"&gtonzeflorabeschri00oude_0231.tif&lt;/reference&gt
            &lt;pages&gt
                &lt;page&gt
                    &lt;name&gt231&lt;/name&gt
                    &lt;taxon&gt
                        &lt;dwc:scientificName&gtLentibulariaceae&lt;/dwc:scientificName&gt
                    &lt;/taxon&gt
                    &lt;taxon&gt
                        &lt;dwc:scientificName&gtOleaceae&lt;/dwc:scientificName&gt
                    &lt;/taxon&gt
...
                &lt;/page&gt
            &lt;/pages&gt
        &lt;/file&gt
    &lt;/files&gt
&lt;/itemInformation&gt
&lt;/element&gt
&lt;/olef&gt


CHANGED QUEUE LOGGING

ADDED DIRECTORY ./fedora FOR BATCH INGEST FRAMEWORK 

THE "WAS STEP SUCCESSFUL CHECK" NOW  PROOFS THE GENERATED
OUTPUT OF A STEP AGAINST THE EXACT NUMBER OF PAGES FROM
THE INITIAL CONTENT ANALYZE.

ADDED DOCS/DATABASE/CREATE_USER.SQL TEMPLATE

BUGFIX: REVERSE LOOKUP URL FOR ALL TYPES

OPTIMIZED GUI THUMBS

FILE & DIRECTORY NAME ENCLOSING EVERYWHERE

PDF DIRECT OPEN

ELEMENT FOCUS UPDATES

FIXED BUG IN DYNAMIC DIALOGS IN INGEST LIST

STATUS HANDLING UPDATE, DEEPER CONTROL MECHANISMS

SOME MINOR GUI ENHANCEMENTS

FEDORA CONTROL FILES AS CONFIG VARIABLES (SEE CONFIG.PHP, PART - FEDORA)

METS:  PREFIX IN PAGE URI ... FILE://

METS: URLENCODING OF GUID EVERYWHERE

BEHAVIOUR OF LAST STEP IN GUI OPTIMIZED

QUEUE STEERING BUG 103 FIXED

EXTENDED METS SUPPORT FOR PAGE FILES

ADVANCED GUI FEATURES ADDED

MEDIA THUMB PREVIEW IMPLEMENTED

NEW METS FILENAME AND OBJECT IDS FOR MONOGRAPH + PAGES

ADDED SINGLE CONTENT FILE BROWSERS WITH OPEN FUNCTIONALITY

QUEUING DELETES NOW EMPTY LOGFILES IN LOG DESTINATION

SERVER CLEANUP FILES/DIRS FROM PREVIOUS VERSIONS

MONOGRAPH (BOOK) METS IS NOW ENRICHED WITH FINAL OLEF MODS.

SUPPORT FOR RE-INGEST VIA CLEANUP POSSIBILITY OF INGEST STATI.

PRE-INGEST LOOKS FOR "ingest_finished.txt" IN .AIP DIRECTORIES TO 
IDENTIFY FINISHED INGESTS. (IMPORTANT FOR ZHENG)

FEDORA INTEGRATION - ADMIN INTERFACE & OPTIONAL INGEST INVOKATION(!)
(see config.php)

OCR LANGUAGE INTELLIGENCE EXTENDED
CHOOSE TESSERACT LANGUAGE BASED ON METADATA LANGUAGE AND PRE-CHECKS
EXISTENCE OF REQUIRED TRAINEDDATA OTHERWISE TAKES DEFAULT LANGUAGE.

DOCS CLEANUP - TO CURRENT STATE/INFORMATION

OWN EXTENDED TESSERACT CONFIGURATION FOR LANGUAGE MAPPINGS STEERED
ON METADATA (config/tesseract_config.php)

LARGER DATABASE FIELDS FOR BIG SIZE CACHE INFORMATION IN PRODUCTION

FASTER ANALYZE

INTERFACE ENHANCEMENTS

METS FILE GENERATION FOR PAGES 

IPR OLEF EXTENSION

QUEUE LOGGING ESTABLISHED AND WEB LOG VIEW ADDED (Ingest Log)

FIXED BUG IN DATA TYPE DETECTION

FIXED TIFF OCR DOUBLE PATH PROBLEM

CLEANUP: LAY_HEADER JS ETC. ENHANCED (TOP MENU, ...)

BUGFIX: CONTENT FILE DETECTION CORRECTED FOR THE CASE .AIP DOES NOT EXIST (ANALYZE TIME)

BUGFIX: TRAILING SLASHES CONTROLLED IN QUEUE BASH SCRIPT

BUGFIX: SOME GENERATED FILE TYPES STILL GO TO UPLOAD DIRECTORY - FIXED

BUGFIX: REFRESH AFTER ANALYZE DOES NOT INVOKE LAST MANAGEMENT COMMAND ANY MORE

BUGFIX: NUM PAGES OF FOREIGN PAGE FORMATS FIXED

BUGFIX: CONTENT TYPE READONLY

BUGFIX: ANALYZER LAST MEDIA PAGES

SOLUTION: PROBLEM PDF 2 TXT SINGLE PAGE CONVERSION SOLVED.

CURRENT PROBLEM(S): 
    EXTRACT TEXT FROM PDF FOR EACH PAGE NOT FOR WHOLE PDF IS NOT SUPPORTED
    BY PDFTOTEXT - DO TIFF OCR HERE ?

    OCR - PREPARATION OF TIFS NECCESSARY FOR BETTER/FASTER RESULTS

HELP.txt, INSTALL.txt, ... UPDATES

CONTENT ANALYZER NOW TAKES CARE OF EMPTY FOLDERS WHICH CONTAIN OTHER FOLDERS 
BUT NO MEDIAS ITSELF (NO ACTIVATION IS PROVIDED FOR THEM ANY MORE)

FIND INGEST JOB PARALLELISM TECHNIQUE IN: ./queuing

WEBSERVICE METADATA: 
DIRECTORY NAME IS KEY TO GATHER METADATA OVER HTTP(S) IN REALTIME

CHANGE TO REALTIME DIRECTORY ANALYSIS FOR ALL STEPS

STEP METADATA OLEF GENERATION - IS ALWAYS REALTIME OPERATION AND CAN NOT BE 
QUEUED EVEN WHEN A WEBSERVICE IS INVOLVED. 

INGETER CAN NOW WORK WITH DISTRIBUTED CONTENT IN .AIP AND ORIGINAL
UPLOAD DATA

AWARENESS OF
RECURSIVE CONTENT NAME DIRECTORY ARCHITECHTURE (SPICES_PREPARED/DARWINS...)
(= CONTENT NOT IN TOP LEVEL DIRECTORY UNDER CONTENT PROVIDERS ROOT)

ADDED PDF WORKFLOW

ADDED PDF 2 TEXT FUNCTIONALITY

ADDED PDF 2 PPM FUNCTIONALITY

ADDED PPM 2 TIF FUNCTIONALITY

ADDED INTELLIGENT QUEUING
RECOGNIZES EXISTING COMMANDS IN DYNAMIC QUEUE SCRIPTS FOR CONTENT
PREPARATION

OWN INDEPENDANT GUID MINTING FACILITY IMPLEMENTED (DATABASE)

NEW IMPORTANT BEHAVIOUR IMPLEMENTED: 
IF A SELECTED CONTENT IN THE CONTENT MANAGMENT LIST IS DROPPED ALSO THE
ACCORDING .AIP DIRECTORY INIDE THE CONTENTS DIRECTORY WILL BE DELETED.

NEW IMPORTANT BEHAVIOUR IMPLEMENTED: 
INGEST DETECTS IN REALTIME IF PREPARATIONS HAVE  SUCCESSFULLY 
FINISHED IN PARALLEL VIA THE QUEUE RUNNER AND THEREFORE
AUTOMATICALLY ENABLES THE NEXT LOGICAL STEPS IN THE GUI.

PRE-INGEST REQUIRES NOW A NOID INSTALLATION FOR MINTING GUIDS

IF YOU RE-PROCESS STEPS THE .AIP DATA WILL BE OVERWRITTEN, NO CHANGES WILL BE
MADE IN THE CONTENT ORIGINAL SOURCE DIRECTORY

INGESTER DETECTS PRE GENERATED TAXON, TEXT AND TIFF FILES IN ORIGINAL CONTENT DIR.

INGESTER IS NOW ABLE TO WORK WITH PROVIDED TEXT, TAX & OCR FILES IN THE
CONTENT DIRECTORY AS WITH PREPARED FILES IN THE .AIP DIR (

*NOTE: THAT CONTENT UPLOAD FILES WILL BE RECOGNIZED AND THE RE-GENERATE SUPPRESSED.

CHANGED, ALL PROCESSED FILES ARE NOT LONGER SAVED IN THE CONTENT DIRECTORY
BUT IN THE .AIP DIRECTORY

COMPLEX DIRECTORY SCANNING AND STRUCTURE CLEANUP

METS FILE GENERATION (BETA)

NEW TAXON FINDINER

GUID GENERATION (MINTING) EXTENDS METADATA PREPARATION STEP 1 (NO OWN STEP)

ADMINISTRATION OF CONFIG VARIABLES IN GUI RESTRICTED TO ADMIN 

QUEUE MODUS FOR TIME CONSUMING STEPS (CONVERSION;OCR;TAXON)

UPLOAD ANALYZER - RECURSIVE DIRECTORY SCANNER AND INTERPRETER WITH 
DATABASE CACHE 



*******************
*** PROSPECTIVE ***
*******************

MINTING WITH INGEST TOOL DATABASE ALTERNATIVE ... DONE


